# üìú –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: –°–ò–°–¢–ï–ú–ê –û–†–ö–ï–°–¢–†–ê–¶–ò–ò –ú–°–ü-–ê–ì–ï–ù–¢–û–í

## üîö –¶–µ–ª—å —Å–∏—Å—Ç–µ–º—ã
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç **—Å–≤–æ–±–æ–¥–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ** –≤ –∫–æ–Ω—Å–æ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: _¬´–°–æ–∑–¥–∞–π REST API –Ω–∞ FastAPI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å OpenAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ Dockerfile¬ª_).  
–°–∏—Å—Ç–µ–º–∞:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç** –∑–∞–¥–∞—á—É,
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç** –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–∞–±-–∞–≥–µ–Ω—Ç–æ–≤,
3. **–î–µ–ª–µ–≥–∏—Ä—É–µ—Ç –ø–æ–¥–∑–∞–¥–∞—á–∏**,
4. **–ü–æ–∑–≤–æ–ª—è–µ—Ç –ª—é–±–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É (–º–∞—Å—Ç–µ—Ä—É –∏–ª–∏ —Å–∞–±—É) –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏—è** —É –≤—ã—à–µ—Å—Ç–æ—è—â–µ–≥–æ,
5. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∂–∏–≤–æ–π —Å—Ç–∞—Ç—É—Å** –≤—Å–µ—Ö —Å–∞–±–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏,
6. **–í—ã–¥–∞—ë—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** (—Ñ–∞–π–ª—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ—Ç—á—ë—Ç).

---

## üß± –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

| –ü—Ä–∏–Ω—Ü–∏–ø | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|--------|-----------|
| **–ö–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ ‚Äî –ú–°–ü** | CLI-–ø—Ä–æ—Ü–µ—Å—Å —Å –µ–¥–∏–Ω—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º |
| **–ü–∞–º—è—Ç—å = scratchpad.md** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä, –∂–∏–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| **–ò–∑–æ–ª—è—Ü–∏—è** | –°–∞–±—ã –Ω–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –±–µ–∑ —è–≤–Ω–æ–≥–æ ¬´–º–æ—Å—Ç–∞¬ª –æ—Ç –º–∞—Å—Ç–µ—Ä–∞ |
| **–£—Ç–æ—á–Ω–µ–Ω–∏—è** | –í–æ–∑–º–æ–∂–Ω—ã –≤ –ª—é–±–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏: —Å—É–ø–µ—Ä-–±–æ—Å—Å ‚Üî –º–∞—Å—Ç–µ—Ä ‚Üî —Å–∞–± |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | –¢–æ–ª—å–∫–æ –∫–æ–Ω—Å–æ–ª—å (–±–µ–∑ GUI), –≤ —Å—Ç–∏–ª–µ `qwen run --task "..."` |
| **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | –°–∞–±—ã –ø–æ–ª—É—á–∞—é—Ç —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (file_read, file_write, shell –∏ —Ç.–¥.) |

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/msp-orchestrator
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îú‚îÄ‚îÄ available/               # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º—ã–µ —Å–∞–±—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coder/               # –ü—Ä–∏–º–µ—Ä —Å–∞–±–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agent.yaml       # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ documenter/
‚îÇ   ‚îî‚îÄ‚îÄ master/
‚îÇ       ‚îî‚îÄ‚îÄ master.py            # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ shared/                      # –í—Ä–µ–º–µ–Ω–Ω—ã–µ shared-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –¥–ª—è –º–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ tasks/                       # –ê—Ä—Ö–∏–≤ –∑–∞–¥–∞—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ config.yaml                  # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ msp-run                      # CLI-—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ unit/
    ‚îú‚îÄ‚îÄ integration/
    ‚îî‚îÄ‚îÄ e2e/
        ‚îî‚îÄ‚îÄ test_build_fastapi_service.py  # –ì–ª–∞–≤–Ω—ã–π E2E-—Ç–µ—Å—Ç
```

---

## üìù –ö–æ–Ω—Ç—Ä–∞–∫—Ç –ú–°–ü (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤)

–ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–∞–∫:
```bash
python agent.py \
  --task '{"description": "...", "context": {...}}' \
  --scratchpad-path ./scratchpad.md \
  --max-scratchpad-chars 8192 \
  --allowed-tools "file_write,shell" \
  --clarification-endpoint "http://localhost:12345/clarify"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
1. **–ß–∏—Ç–∞–µ—Ç —Å–≤–æ–π `scratchpad.md`** (–µ—Å–ª–∏ –µ—Å—Ç—å).
2. **–û–±—Ä–µ–∑–∞–µ—Ç –¥–æ `max-scratchpad-chars`** (—Å–æ—Ö—Ä–∞–Ω—è—è –∫–æ–Ω–µ—Ü).
3. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É**.
4. **–ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ `clarification-endpoint`**:
   ```json
   {"need_clarification": true, "question": "–ö–∞–∫–æ–π –ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è API?"}
   ```
5. **–í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–±–æ—Ç—É**, **–ø–∏—à–µ—Ç –≤ scratchpad –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**.
6. **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤ stdout**:
   ```json
   {
     "status": "success" | "needs_clarification" | "failed",
     "result": { ... },
     "produced_files": ["main.py", "Dockerfile"],
     "clarification_response": "..."  // –µ—Å–ª–∏ –±—ã–ª –∑–∞–ø—Ä–æ—Å
   }
   ```

---

## üß† –ú–µ—Ö–∞–Ω–∏–∫–∞ —É—Ç–æ—á–Ω–µ–Ω–∏–π

### –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–°–∞–± ‚Üí –ú–∞—Å—Ç–µ—Ä**: —á–µ—Ä–µ–∑ HTTP POST –Ω–∞ `clarification-endpoint` (–º–∞—Å—Ç–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—Ç).
- **–ú–∞—Å—Ç–µ—Ä ‚Üí –°—É–ø–µ—Ä-–±–æ—Å—Å (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)**: —á–µ—Ä–µ–∑ **–∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤–≤–æ–¥**:
  ```
  [MASTER] –£—Ç–æ—á–Ω–µ–Ω–∏–µ: –ö–∞–∫–æ–π –ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è API? 
  –í–∞—à –æ—Ç–≤–µ—Ç: 8000
  ```

### –ü—Ä–∞–≤–∏–ª–∞:
- –£—Ç–æ—á–Ω–µ–Ω–∏–µ **–±–ª–æ–∫–∏—Ä—É–µ—Ç** –¥–∞–ª—å–Ω–µ–π—à–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞.
- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –∞–≥–µ–Ω—Ç **–≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É**.
- –í—Å–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è **–ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ scratchpad‚Äô—ã**.

---

## üñ•Ô∏è –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å—Ç–∏–ª—å Qwen/Claude)

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
```bash
./msp-run --task "–°–æ–∑–¥–∞–π REST API –Ω–∞ FastAPI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏"
```

–í—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```
[MASTER] –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏...
[MASTER] –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è: [–∫–æ–¥–∏–Ω–≥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —É–ø–∞–∫–æ–≤–∫–∞]
[+] –ó–∞–ø—É—â–µ–Ω —Å–∞–±: coder (PID 12345)
[+] –ó–∞–ø—É—â–µ–Ω —Å–∞–±: documenter (PID 12346)

[STATUS] coder: [~] –ì–µ–Ω–µ—Ä–∏—Ä—É—é –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö...
[STATUS] documenter: [ ] –û–∂–∏–¥–∞—é –∫–æ–¥ –æ—Ç coder (–º–æ—Å—Ç –∞–∫—Ç–∏–≤–µ–Ω)

[!] coder –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏–µ: "–ù—É–∂–Ω–∞ –ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è?"
–í–∞—à –æ—Ç–≤–µ—Ç: –ù–µ—Ç, –ø—É–±–ª–∏—á–Ω—ã–π API.

[STATUS] coder: [~] –ü–∏—à—É —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã...
[STATUS] documenter: [~] –ì–µ–Ω–µ—Ä–∏—Ä—É—é OpenAPI...

[‚úì] –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ ./output/
```

> **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ**: –∫–∞–∂–¥—ã–µ 1‚Äì2 —Å–µ–∫—É–Ω–¥—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å **–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∞–±–æ–≤** —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ 1‚Äì2 —Å—Ç—Ä–æ–∫–∞–º–∏ –∏—Ö scratchpad‚Äô–∞.

---

## üß™ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π E2E-—Å—Ü–µ–Ω–∞—Ä–∏–π: ¬´FastAPI-—Å–µ—Ä–≤–∏—Å¬ª

### –£—Å–ª–æ–≤–∏–µ:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç:
> ¬´–°–æ–∑–¥–∞–π REST API –Ω–∞ FastAPI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ (CRUD: —Å–æ–∑–¥–∞—Ç—å, –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å, —É–¥–∞–ª–∏—Ç—å). –î–æ–±–∞–≤—å OpenAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ Dockerfile. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç 8000. –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.¬ª

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
1. –ú–∞—Å—Ç–µ—Ä –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç –Ω–∞:
   - `coder`: –Ω–∞–ø–∏—Å–∞—Ç—å `main.py` —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏,
   - `documenter`: —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `openapi.yaml` –∏ README,
   - `packager`: —Å–æ–∑–¥–∞—Ç—å `Dockerfile`.
2. –ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞—ë—Ç **–º–æ—Å—Ç** –º–µ–∂–¥—É `coder` –∏ `documenter` ‚Üí shared-–∫–æ–Ω—Ç–µ–∫—Å—Ç —Å OpenAPI-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π.
3. –í—Å–µ —Å–∞–±—ã **–ø–æ–ª—É—á–∞—é—Ç –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: `file_write`, `shell`.
4. –ù–∏–∫–∞–∫–∏—Ö —É—Ç–æ—á–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–≤—Å—ë –≤ –∑–∞–¥–∞—á–µ).
5. –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ä–∞–±–æ—á–∏–π FastAPI-–ø—Ä–æ–µ–∫—Ç —Å Dockerfile.

### –¢–µ—Å—Ç:
```python
# tests/e2e/test_build_fastapi_service.py
def test_fastapi_service_creation(tmp_path):
    result = run_msp_task(
        task="–°–æ–∑–¥–∞–π REST API –Ω–∞ FastAPI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏...",
        workdir=tmp_path
    )
    assert (tmp_path / "main.py").exists()
    assert (tmp_path / "Dockerfile").exists()
    assert "uvicorn main:app" in (tmp_path / "Dockerfile").read_text()
    assert result.exit_code == 0
```

---

## üìå –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å —É—Ç–æ—á–Ω–µ–Ω–∏—è–º–∏ –∏ E2E)

### –≠—Ç–∞–ø 0: –ö–æ–Ω—Ç—Ä–∞–∫—Ç + Mock-–∞–≥–µ–Ω—Ç + CLI-—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `msp-run` ‚Äî –ø–∞—Ä—Å–∏—Ç `--task`, –∑–∞–ø—É—Å–∫–∞–µ—Ç `master.py`
- ‚úÖ `echo_agent.py` ‚Äî –ø–∏—à–µ—Ç –≤ scratchpad, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `--clarification-endpoint`
- ‚úÖ –¢–µ—Å—Ç: –∑–∞–ø—É—Å–∫ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ scratchpad –∏ stdout

### –≠—Ç–∞–ø 1: Scratchpad –∫–∞–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å
- ‚úÖ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `scratchpad.py` —Å –∞—Ç–æ–º–∞—Ä–Ω–æ–π –∑–∞–ø–∏—Å—å—é –∏ –æ–±—Ä–µ–∑–∫–æ–π
- ‚úÖ –í—Å–µ –∞–≥–µ–Ω—Ç—ã **–æ–±—è–∑–∞–Ω—ã** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë
- ‚úÖ –¢–µ—Å—Ç: –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–æ–Ω–µ—Ü

### –≠—Ç–∞–ø 2: –ú–∞—Å—Ç–µ—Ä + —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –¥–µ–ª–µ–≥–∞—Ü–∏—è + —É—Ç–æ—á–Ω–µ–Ω–∏—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ú–∞—Å—Ç–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏—ë–º–∞ —É—Ç–æ—á–Ω–µ–Ω–∏–π –æ—Ç —Å–∞–±–æ–≤
- ‚úÖ –ü—Ä–∏ `needs_clarification` ‚Üí –º–∞—Å—Ç–µ—Ä —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –¢–µ—Å—Ç: —Å–∞–± –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç ‚Üí –º–∞—Å—Ç–µ—Ä —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç ‚Üí —Å–∞–± –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç

### –≠—Ç–∞–ø 3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å + IPC + –∂–∏–≤–æ–π —Å—Ç–∞—Ç—É—Å
- ‚úÖ FIFO/—Å–æ–∫–µ—Ç –¥–ª—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
- ‚úÖ –¶–∏–∫–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: –∫–∞–∂–¥—ã–µ 0.5 —Å–µ–∫ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚úÖ –¢–µ—Å—Ç: 2 —Å–∞–±–∞ ‚Üí —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –≠—Ç–∞–ø 4: –ú–æ—Å—Ç—ã + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ
- ‚úÖ `agent.yaml` —Å `capabilities`, `accepts_bridges`
- ‚úÖ Shared-–∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –º–æ—Å—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç: coder ‚Üí documenter —á–µ—Ä–µ–∑ –º–æ—Å—Ç

### –≠—Ç–∞–ø 5: E2E-—Å—Ü–µ–Ω–∞—Ä–∏–π ¬´FastAPI-—Å–µ—Ä–≤–∏—Å¬ª
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –±–µ–∑ —É—Ç–æ—á–Ω–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤, –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç)
- ‚úÖ –¢–µ—Å—Ç: `test_build_fastapi_service.py`

### –≠—Ç–∞–ø 6: –û—Ç–ª–∞–¥–æ—á–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `msp-status --task-id xyz` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç scratchpad‚Äô—ã
- ‚úÖ README: –∫–∞–∫ –ø–∏—Å–∞—Ç—å —Å–∞–±—ã, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç** ‚Üí —Å–∏—Å—Ç–µ–º–∞ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞**.
2. **–õ—é–±–æ–π –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–µ** ‚Üí —Å–∏—Å—Ç–µ–º–∞ **–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç**.
3. **–í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–µ–Ω –∂–∏–≤–æ–π —Å—Ç–∞—Ç—É—Å** –≤—Å–µ—Ö —Å–∞–±–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏—Ö —Ä–∞–±–æ—Ç—ã.
4. **–°–∞–±—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã**, –Ω–æ –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–æ—Å—Ç—ã**.
5. **E2E-—Å—Ü–µ–Ω–∞—Ä–∏–π ¬´FastAPI¬ª –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**.
6. **–ù–µ—Ç GUI, –Ω–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (—Ç–æ–ª—å–∫–æ Python stdlib + pytest/pydantic –¥–ª—è —Ç–µ—Å—Ç–æ–≤).

---

## üí° –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞

–¢—ã —Ä–µ–∞–ª–∏–∑—É–µ—à—å **–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π CLI-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä**, –∫–æ—Ç–æ—Ä—ã–π:
- –ø–æ–Ω–∏–º–∞–µ—Ç **–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫**,
- **–¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç**, **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç**, **—É—Ç–æ—á–Ω—è–µ—Ç**,
- **–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ**, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç,
- **–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**,
- **—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–∞–Ω–¥–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏**.

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî **–º–æ–¥—É–ª—å–Ω—ã–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ**.  
–ù–∞—á–∏–Ω–∞–π —Å –≠—Ç–∞–ø–∞ 0. –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø ‚Äî **—Ä–∞–±–æ—á–∏–π –ø—Ä–æ–¥—É–∫—Ç**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.
